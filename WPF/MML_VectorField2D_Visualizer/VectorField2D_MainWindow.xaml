<Window x:Class="MML_VectorField2D_Visualizer.VectorField2D_MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MML_VectorField2D_Visualizer"
        mc:Ignorable="d"
        Title="Vector field 2D visualizer" Height="850" Width="1250" SizeChanged="Window_SizeChanged">
  
  <Grid Background="White">
    <Grid.RowDefinitions>
      <RowDefinition Height="40"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*"/>
      <ColumnDefinition Width="220" />
    </Grid.ColumnDefinitions>

    <TextBox x:Name="txtTitle" Grid.Row="0" Grid.Column="0" Text="Vector Field 2D" 
             HorizontalAlignment="Center" VerticalAlignment="Center" Width="500" 
             FontSize="20" FontWeight="Bold" HorizontalContentAlignment="Center" 
             VerticalContentAlignment="Center" BorderBrush="{x:Null}" IsReadOnly="True"/>

    <Canvas Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" x:Name="mainCanvas" 
            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
            Margin="5,5,5,5"/>

    <!-- Sidebar -->
    <ScrollViewer Grid.Row="1" Grid.Column="1" VerticalScrollBarVisibility="Auto">
      <StackPanel Margin="10,10,10,10">
        <GroupBox Header="Field title" Margin="0,0,0,10">
          <TextBox x:Name="txtEditableTitle" TextWrapping="Wrap" AcceptsReturn="True" 
                   Height="40" Margin="5" VerticalScrollBarVisibility="Auto"
                   TextChanged="OnTitleTextChanged"/>
        </GroupBox>
        
        <GroupBox Header="Vector scaling" Margin="0,0,0,10">
          <StackPanel Margin="5">
            <Grid Margin="0,3">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="50"/>
              </Grid.ColumnDefinitions>
              <Label Content="Magnitude scale:" Grid.Column="0" Padding="0" VerticalAlignment="Center"/>
              <TextBox x:Name="txtMagnitudeScale" Grid.Column="1" Text="1.0" IsReadOnly="True" 
                       HorizontalContentAlignment="Center" VerticalAlignment="Center"/>
            </Grid>
            <Slider x:Name="sliderMagnitudeScale" Minimum="0.1" Maximum="5.0" Value="1.0" 
                    TickFrequency="0.1" IsSnapToTickEnabled="False" Margin="0,5"
                    ValueChanged="sliderMagnitudeScale_ValueChanged"/>
            <Grid Margin="0,3">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="50"/>
              </Grid.ColumnDefinitions>
              <Label Content="Arrow size:" Grid.Column="0" Padding="0" VerticalAlignment="Center"/>
              <TextBox x:Name="txtArrowSizeDisplay" Grid.Column="1" Text="8" IsReadOnly="True" 
                       HorizontalContentAlignment="Center" VerticalAlignment="Center"/>
            </Grid>
            <Slider x:Name="sliderArrowSize" Minimum="2" Maximum="20" Value="8" 
                    TickFrequency="1" IsSnapToTickEnabled="True" Margin="0,5"
                    ValueChanged="sliderArrowSize_ValueChanged"/>
          </StackPanel>
        </GroupBox>
        
        <GroupBox Header="Display options" Margin="0,0,0,10">
          <StackPanel Margin="5">
            <CheckBox x:Name="chkPreserveAspectRatio" Content="Preserve aspect ratio" 
                      Margin="0,5" Checked="OnPreserveAspectRatioChanged" Unchecked="OnPreserveAspectRatioChanged"/>
            <CheckBox x:Name="chkNormalizeVectors" Content="Normalize vectors" 
                      Margin="0,5" Checked="OnNormalizeVectorsChanged" Unchecked="OnNormalizeVectorsChanged"/>
            <CheckBox x:Name="chkColorByMagnitude" Content="Color by magnitude" 
                      Margin="0,5" IsChecked="True" Checked="OnColorByMagnitudeChanged" Unchecked="OnColorByMagnitudeChanged"/>
            <Grid Margin="0,5">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="80"/>
              </Grid.ColumnDefinitions>
              <Label Content="Arrow color:" Grid.Column="0" Padding="0" VerticalAlignment="Center"/>
              <ComboBox x:Name="cmbArrowColor" Grid.Column="1" SelectionChanged="cmbArrowColor_SelectionChanged">
                <ComboBoxItem Content="Black" IsSelected="True"/>
                <ComboBoxItem Content="Blue"/>
                <ComboBoxItem Content="Red"/>
                <ComboBoxItem Content="Green"/>
                <ComboBoxItem Content="Orange"/>
                <ComboBoxItem Content="Purple"/>
              </ComboBox>
            </Grid>
          </StackPanel>
        </GroupBox>
        
        <GroupBox Header="Field bounds" Margin="0,0,0,10">
          <StackPanel Margin="5">
            <Grid Margin="0,3">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="55"/>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <Label Content="X min:" Grid.Column="0" Padding="0"/>
              <TextBox x:Name="txtXMin" Grid.Column="1" IsReadOnly="True"/>
            </Grid>
            <Grid Margin="0,3">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="55"/>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <Label Content="X max:" Grid.Column="0" Padding="0"/>
              <TextBox x:Name="txtXMax" Grid.Column="1" IsReadOnly="True"/>
            </Grid>
            <Grid Margin="0,3">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="55"/>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <Label Content="Y min:" Grid.Column="0" Padding="0"/>
              <TextBox x:Name="txtYMin" Grid.Column="1" IsReadOnly="True"/>
            </Grid>
            <Grid Margin="0,3">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="55"/>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <Label Content="Y max:" Grid.Column="0" Padding="0"/>
              <TextBox x:Name="txtYMax" Grid.Column="1" IsReadOnly="True"/>
            </Grid>
          </StackPanel>
        </GroupBox>
        
        <GroupBox Header="Field info">
          <StackPanel Margin="5">
            <Grid Margin="0,3">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="80"/>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <Label Content="Num vectors:" Grid.Column="0" Padding="0"/>
              <TextBox x:Name="txtNumVectors" Grid.Column="1" IsReadOnly="True"/>
            </Grid>
            <Grid Margin="0,3">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="80"/>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <Label Content="Max mag:" Grid.Column="0" Padding="0"/>
              <TextBox x:Name="txtMaxMagnitude" Grid.Column="1" IsReadOnly="True"/>
            </Grid>
            <Grid Margin="0,3">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="80"/>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <Label Content="Min mag:" Grid.Column="0" Padding="0"/>
              <TextBox x:Name="txtMinMagnitude" Grid.Column="1" IsReadOnly="True"/>
            </Grid>
            <Grid Margin="0,3">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="80"/>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <Label Content="Avg mag:" Grid.Column="0" Padding="0"/>
              <TextBox x:Name="txtAvgMagnitude" Grid.Column="1" IsReadOnly="True"/>
            </Grid>
          </StackPanel>
        </GroupBox>
      </StackPanel>
    </ScrollViewer>
  </Grid>
</Window>
