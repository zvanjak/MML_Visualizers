<Window x:Class="MML_ParticleVisualizer2D.ParticleVisualizer2D_MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MML_ParticleVisualizer2D"
        xmlns:vizbase="clr-namespace:MML_VisualizersBase;assembly=MML_VisualizersBase"
        mc:Ignorable="d"
        Title="Particle visualizer 2D" Height="1055" Width="1300">
  
  <Grid Background="White">
    <Grid.RowDefinitions>
      <RowDefinition Height="50"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*"/>
      <ColumnDefinition Width="220" />
    </Grid.ColumnDefinitions>

    <TextBox x:Name="txtTitle" Grid.Row="0" Grid.Column="0" Text="Particle Simulation 2D" 
             HorizontalAlignment="Center" VerticalAlignment="Center" Width="500" 
             FontSize="22" FontWeight="Bold" HorizontalContentAlignment="Center" 
             VerticalContentAlignment="Center" BorderBrush="{x:Null}" IsReadOnly="True"/>

    <Canvas Name="MyCanvas" Grid.Row="1" Grid.Column="0" HorizontalAlignment="Left" 
            Width="1000" Height="1000" Margin="10,10,0,0" VerticalAlignment="Top"/>

    <StackPanel Grid.Row="1" Grid.Column="1" Margin="10,10,10,10">
      <GroupBox Header="Simulation title" Margin="0,0,0,10">
        <TextBox x:Name="txtEditableTitle" TextWrapping="Wrap" AcceptsReturn="True" 
                 Height="40" Margin="5" VerticalScrollBarVisibility="Auto"
                 TextChanged="OnTitleTextChanged"/>
      </GroupBox>
      
      <GroupBox Header="Simulation controls" Margin="0,0,0,10">
        <StackPanel Margin="5">
          <Grid Margin="0,5">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*"/>
              <ColumnDefinition Width="*"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Button x:Name="btnStartSim" Grid.Column="0" Content="Start" Margin="0,0,2,0" Click="btnStartSim_Click"/>
            <Button x:Name="btnPauseSim" Grid.Column="1" Content="Pause" Margin="2,0,2,0" Click="btnPauseSim_Click"/>
            <Button x:Name="btnRestartSim" Grid.Column="2" Content="Reset" Margin="2,0,0,0" Click="btnRestartSim_Click"/>
          </Grid>
          <Grid Margin="0,10,0,5">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*"/>
              <ColumnDefinition Width="70"/>
            </Grid.ColumnDefinitions>
            <Label Content="Current step:" Grid.Column="0" Padding="0" VerticalAlignment="Center"/>
            <TextBox x:Name="txtCurrStep" Grid.Column="1" Text="0" IsReadOnly="True" 
                     HorizontalContentAlignment="Center" VerticalAlignment="Center"/>
          </Grid>
          <ProgressBar x:Name="progressBar" Height="8" Margin="0,5" Minimum="0" Maximum="100" Value="0"/>
        </StackPanel>
      </GroupBox>
      
      <GroupBox Header="Animation settings" Margin="0,0,0,10">
        <StackPanel Margin="5">
          <Grid Margin="0,3">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*"/>
              <ColumnDefinition Width="70"/>
            </Grid.ColumnDefinitions>
            <Label Content="Total steps:" Grid.Column="0" Padding="0" VerticalAlignment="Center"/>
            <TextBox x:Name="txtNumSteps" Grid.Column="1" Text="100" IsReadOnly="True" 
                     HorizontalContentAlignment="Center"/>
          </Grid>
          <Grid Margin="0,3">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*"/>
              <ColumnDefinition Width="70"/>
            </Grid.ColumnDefinitions>
            <Label Content="Step delay (ms):" Grid.Column="0" Padding="0" VerticalAlignment="Center"/>
            <TextBox x:Name="txtStepDelay" Grid.Column="1" Text="10" HorizontalContentAlignment="Center"/>
          </Grid>
          <Grid Margin="0,3">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*"/>
              <ColumnDefinition Width="70"/>
            </Grid.ColumnDefinitions>
            <Label Content="Refresh every:" Grid.Column="0" Padding="0" VerticalAlignment="Center"/>
            <TextBox x:Name="txtRefreshEvery" Grid.Column="1" Text="1" HorizontalContentAlignment="Center"/>
          </Grid>
        </StackPanel>
      </GroupBox>
      
      <GroupBox Header="Particles" Margin="0,0,0,10">
        <vizbase:LegendWidget x:Name="LegendWidgetControl" Margin="5"/>
      </GroupBox>
      
      <GroupBox Header="Container info">
        <StackPanel Margin="5">
          <Grid Margin="0,3">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="70"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Label Content="Width:" Grid.Column="0" Padding="0"/>
            <TextBox x:Name="txtContainerWidth" Grid.Column="1" IsReadOnly="True"/>
          </Grid>
          <Grid Margin="0,3">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="70"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Label Content="Height:" Grid.Column="0" Padding="0"/>
            <TextBox x:Name="txtContainerHeight" Grid.Column="1" IsReadOnly="True"/>
          </Grid>
          <Grid Margin="0,3">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="70"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Label Content="Particles:" Grid.Column="0" Padding="0"/>
            <TextBox x:Name="txtNumParticles" Grid.Column="1" IsReadOnly="True"/>
          </Grid>
        </StackPanel>
      </GroupBox>
    </StackPanel>
  </Grid>
</Window>
